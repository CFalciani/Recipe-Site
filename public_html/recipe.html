<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <title>Mom's Recipes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="w3.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
        <style>
            body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
        </style>
    </head>
    <body class="w3-light-grey">
        <div class="w3-content" style="z-index:1" id="main-page">
            <header class="w3-container w3-center w3-padding-32" font="">
                <h1>
                    <b id="heading"></b>
                </h1>
            </header>

            <div class="w3-row">
                <div class="w3-col">
                    <div class="w3-card-4 w3-margin w3-white">
                        <div class="w3-container">                        
                            <h3><b>Ingredients:</b></h3>
                            <ul class="w3-ul w3-hoverable w3-white w3-padding-16" id="ingredients-list">
                            </ul>
									 <h3><b>Directions</b></h3>
									 <p id="directions"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">

            let navButton = document.getElementById("nav-button");
            let nav = document.getElementById("nav-bar");
            navButton.addEventListener("click", function () {
                nav.style.display = "block";
            })

            let main = document.getElementById("main-page");
            console.log(main);
            main.addEventListener("click", function () {
                nav.style.display = "none";
            })

            fetch("/get-recipes").then(function (response) {
                return response.json();
            }).then(function (data) {
                let list = document.getElementById("recipe-list")
                for (let recipe of data["recipes"]) {
                    console.log(recipe);

                    let li = document.createElement("li");
                    li.classList = "w3-padding-16";

                    let img = document.createElement("img");
                    img.src = "pictures/" + recipe.replace(/\s+/g, "_") + ".jpg";
                    img.classList = "w3-left w3-margin-right";
                    img.style = "width: 50px";

                    let p = document.createElement("p");
                    p.textContent = recipe;

                    li.append(img);
                    li.append(p);

                    li.addEventListener("click", function () {
                        window.location.href = "recipes/" + recipe.replace(/\s+/g, '_') + ".html";
                    });
                    list.append(li);
                }
            });
            
        </script>
    </body>
</html>
